\name{categorical.ortho}
\title{Generate orthogonal categorical variables}
\alias{categorical.ortho}

\concept{ simCity model }
\description{
  Specify a exogenous distribution function to generate orthogonal categorical variables
}
\usage{
 categorical.ortho(N,levels,contrast=NULL) 
 }
\arguments{
  \item{N}{Sample size parameter}
    \item{levels}{A \code{list} or a  \code{matrix} with a vector/column for each exogenous variable containing its levels (see "Details"). }
  \item{contrast}{paired list of contrast types to apply to the exogenous variables as in \code{\link[stats]{contrast}}. If NULL \code{\link{options}}("contrasts") is used.} 
      \item{fun}{any function which accepts a variable as argument (see details)}

}

\details{
This function simply applies \code{\link{expand.grid}} to the vectors/columns of \code{levels} and pass the values to  \code{\link[simCity]{categorical}}. The resulting contrast variables equation (i.e the equation with the right names of the dummy variables generated by \code{categorical}) can be generated with \code{\link[simCity]{categorical.formula}}.
}
\value{
  a data.frame with the  generated categorical variables.
}

\seealso{
  \code{\link[simCity]{model}}, \code{\link[simCity]{categorical}}, \code{\link[simCity]{categorical.formula}}
}
\examples{
# a 2 X 3 X 2 balanced design
s<-list(a=c(0:1),b=c(0:2),c=c(0:1)) 
mm<-simc.model()
y~1+ a1+b1+b2+c1+a1b1+a1b2+a1c1+b1c1+b2c1+a1b1c1+a1b2c1
#
exdist(mm)<-categorical.ortho
excov(mm)<-NULL
exmeans(mm)<-s
d<-make.data(mm,96,rep(1,12))
head(d)
table(a=d$a,b=d$b,c=d$c)


}
\keyword{models}
